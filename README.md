# Board Game Rules Summarizer

Upload a board game rulebook PDF and get a concise, structured rules summary generated by GPT-5. Each summary gets a unique shareable URL and can be exported as a print-friendly PDF.

## Features

- **PDF upload** with drag-and-drop support
- **AI-powered summaries** using OpenAI GPT-5 with a detailed rules-extraction prompt
- **Password-protected** generation to control API usage
- **Persistent storage** via Google Firestore — summaries survive across sessions
- **Browsable library** of all generated summaries with search
- **Print / Save as PDF** with clean print-optimized styling
- **Markdown download** for each summary
- **Static SPA** — deploys to GitHub Pages (no server required)

## Tech Stack

- Vite + React
- Tailwind CSS + shadcn/ui
- Google Firestore (client SDK)
- OpenAI API (client-side)
- pdfjs-dist (client-side PDF text extraction)

## Local Development

### Prerequisites

- Node.js 18+
- A Firebase project with Firestore enabled (see [FIRESTORE_SETUP.md](FIRESTORE_SETUP.md))
- An OpenAI API key with access to GPT-5

### Setup

1. Clone the repo:
   ```bash
   git clone https://github.com/lajlev/boardgame-rules-summarizer.git
   cd boardgame-rules-summarizer
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

3. Create a `.env` file:
   ```
   VITE_OPENAI_API_KEY=sk-your-key-here
   VITE_OPENAI_MODEL=gpt-5
   VITE_APP_PASSWORD_HASH=<sha256-hash-of-your-password>
   VITE_FIREBASE_API_KEY=your-firebase-api-key
   VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
   VITE_FIREBASE_PROJECT_ID=your-project-id
   ```

4. Generate a password hash (must use Node.js to match the browser's Web Crypto API):
   ```bash
   node -e "const c=require('crypto');console.log(c.createHash('sha256').update('your-password').digest('hex'))"
   ```

5. Start the dev server:
   ```bash
   npm run dev
   ```

6. Open http://localhost:5173

## Deployment (GitHub Pages)

The repo includes a GitHub Actions workflow that builds and deploys on every push to `main`.

1. In your GitHub repo, go to **Settings > Pages** and set the source to **GitHub Actions**.

2. Go to **Settings > Secrets and variables > Actions** and add these repository secrets:

   | Secret | Value |
   |--------|-------|
   | `VITE_OPENAI_API_KEY` | Your OpenAI API key |
   | `VITE_OPENAI_MODEL` | `gpt-5` |
   | `VITE_APP_PASSWORD_HASH` | SHA-256 hash of your chosen password |
   | `VITE_FIREBASE_API_KEY` | Firebase API key |
   | `VITE_FIREBASE_AUTH_DOMAIN` | e.g. `your-project.firebaseapp.com` |
   | `VITE_FIREBASE_PROJECT_ID` | Firebase project ID |

3. Push to `main` — the workflow will build and deploy automatically.

4. Your app will be live at `https://<username>.github.io/boardgame-rules-summarizer/`

## Changing the Password

Generate a new SHA-256 hash and update `VITE_APP_PASSWORD_HASH`:

```bash
node -e "const c=require('crypto');console.log(c.createHash('sha256').update('new-password').digest('hex'))"
```

Update the value in your `.env` (local) and in GitHub Secrets (production), then redeploy.

## License

MIT
