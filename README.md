# Board Game Rules Summarizer

Upload a board game rulebook PDF and get a concise, structured rules summary generated by AI. Each summary gets a unique shareable URL and can be exported as a print-friendly PDF.

## Features

- **PDF upload** with drag-and-drop support (multiple PDFs per summary)
- **AI-powered summaries** using OpenAI with a detailed rules-extraction prompt
- **Firebase Authentication** — admin login with email/password to control uploads and edits
- **Editable summaries** — admins can edit the markdown and BGG link after creation
- **BGG link** — optional BoardGameGeek link shown at the top of each summary
- **Persistent storage** via Google Firestore
- **Browsable library** of all generated summaries with search
- **Dark mode** with system preference detection
- **Print / Save as PDF** with clean two-column print layout and QR code
- **Markdown download** for each summary
- **Static SPA** — deploys to GitHub Pages (no server required)

## Tech Stack

- Vite + React
- Tailwind CSS + shadcn/ui
- Firebase (Firestore + Authentication)
- OpenAI API (client-side)
- pdfjs-dist (client-side PDF text extraction)

## Local Development

### Prerequisites

- Node.js 18+
- A Firebase project with Firestore and Authentication enabled
- An OpenAI API key

### Setup

1. Clone the repo:
   ```bash
   git clone https://github.com/lajlev/boardgame-rules-summarizer.git
   cd boardgame-rules-summarizer
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

3. Create a `.env` file:
   ```
   VITE_OPENAI_API_KEY=sk-your-key-here
   VITE_OPENAI_MODEL=gpt-5
   VITE_FIREBASE_API_KEY=your-firebase-api-key
   VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
   VITE_FIREBASE_PROJECT_ID=your-project-id
   ```

4. Set up Firebase Authentication:
   - Go to Firebase Console > Authentication > Sign-in method
   - Enable **Email/Password** provider
   - Create an admin user under Authentication > Users
   - Add your domain (e.g. `rules.lillefar.com`) to Authorized domains

5. Set up Firestore Security Rules:
   ```
   rules_version = '2';
   service cloud.firestore {
     match /databases/{database}/documents {
       match /summaries/{summaryId} {
         allow read: if true;
         allow write: if request.auth != null;
       }
     }
   }
   ```

6. Start the dev server:
   ```bash
   npm run dev
   ```

7. Open http://localhost:5173

## Deployment (GitHub Pages)

The repo includes a GitHub Actions workflow that builds and deploys on every push to `main`.

1. In your GitHub repo, go to **Settings > Pages** and set the source to **GitHub Actions**.

2. Go to **Settings > Secrets and variables > Actions** and add these repository secrets:

   | Secret | Value |
   |--------|-------|
   | `VITE_OPENAI_API_KEY` | Your OpenAI API key |
   | `VITE_OPENAI_MODEL` | e.g. `gpt-5` |
   | `VITE_FIREBASE_API_KEY` | Firebase API key |
   | `VITE_FIREBASE_AUTH_DOMAIN` | e.g. `your-project.firebaseapp.com` |
   | `VITE_FIREBASE_PROJECT_ID` | Firebase project ID |

3. Push to `main` — the workflow will build and deploy automatically.

## License

MIT
